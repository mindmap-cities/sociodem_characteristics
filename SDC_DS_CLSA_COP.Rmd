---
title: "Sociodemographic characteristics DataSchema"
output: html_document
---
```{r, echo=TRUE}
library(dplyr)
library(data.table)


# Connecting with Opal data server
## Login to server and assign study data
#Load Opal R library
library(opalr)
# Create an opal object with the login information
erasmus_opal <- opal.login()
#Login to Opal server and assign the content of the GLOBE table(s) to your RStudio environment
opal.assign.table.tibble(erasmus_opal, 'CoP4_Baseline','CLSA_1.CoP4_Baseline', variables =list("AGE_NMBR_COM","SEX_ASK_COM" , "RET_RTRD_COM" , "LBF_CURR_COM", "RET_RTRD_COM", "LBF_EVER_COM", "RET_RTRD_COM","RET_AGE_NB_COM", "SDC_MRTL_COM","SN_LIVH_M1_R_COM",  "SN_LIVH_M2_R_COM", "SN_LIVH_M3_R_COM", "SN_LIVH_M4_R_COM", "SN_LIVH_M5_R_COM", "SN_LIVH_M6_R_COM", "SN_LIVH_M7_R_COM", "SN_LIVH_M8_R_COM", "SN_LIVH_M9_R_COM", "SN_LIVH_M10_R_COM", "SN_LIVH_NB_COM","SDC_MRTL_COM", "ED_UDR11_COM", "SN_LIVHKD_COM" , "SN_CHILD_NB_COM", "LBF_STTS_COM"))

CLSA_cop_0 <- opal.execute(erasmus_opal,'CoP4_Baseline')

opal.assign.table.tibble(erasmus_opal, 'CoP_FU1','CLSA_1.CoP_FU1',  variables=list("AGE_NMBR_COF1", "LBF_STTS_COF1", "SDC_BTHSEX_COF1", "RET_RTRD_COF1" , "LBF_CURR_COF1", "RET_RTRD_COF1","RET_AGE_NB_COF1", "SDC_MRTL_COF1","SN_LIVH_M1_R_COF1",  "SN_LIVH_M2_R_COF1", "SN_LIVH_M3_R_COF1", "SN_LIVH_M4_R_COF1", "SN_LIVH_M5_R_COF1", "SN_LIVH_M6_R_COF1", "SN_LIVH_M7_R_COF1", "SN_LIVH_M8_R_COF1", "SN_LIVH_M9_R_COF1", "SN_LIVH_M10_R_COF1", "SN_LIVH_NB_COF1","SDC_MRTL_COF1", "RET_RTRN_COF1", "RET_RTRN_COF1", "ED_OTED_COF1" , "SN_CHILD_NB_COF1", "LBF_EVER_COF1", "SDC_CURRSEX_COF1", "SDC_MRTL_CONFIRM_COF1"))

CLSA_cop_1 <- opal.execute(erasmus_opal,'CoP_FU1')

opal.logout(erasmus_opal)

```
## Assign participant id as first column of your harmonized dataframes
```{r, echo=FALSE}
sdc_CLSA_cop_0 <- data.frame(id = CLSA_cop_0$id )
sdc_CLSA_cop_1 <- data.frame(id = CLSA_cop_1$id )
```
# Table of Contents
1. [Age and sex subdomain](#age-and-sex-subdomain) 
2. [Employment and retirement subdomain](#employment-and-retirement-subdomain)
3. [Education and income subdomain](#education-and-income-subdomain)
4. [Marital status subdomain](#marital-status-subdomain)
5. [Number of people in household subdomain](#number-of-people-in-household-subdomain)

# Age and sex subdomain

### **Variable label**: Age of participant   
**Variable name**: sdc_age_0      
**Variable description**: Age of the participant.      
**Value type**: integer    
**Variable unit**: years  
**Category coding**: N/A  

**Harmonization status**:  complete  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}
sdc_CLSA_cop_0$sdc_age_0<- CLSA_cop_0$AGE_NMBR_COM
table(CLSA_cop_0$AGE_NMBR_COM,useNA="always")
```  
### **Variable label**: Age of participant   
**Variable name**: sdc_age_1       
**Variable description**: Age of the participant.      
**Value type**: integer    
**Variable unit**: years  
**Category coding**: N/A  

**Harmonization status**:  complete  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}
sdc_CLSA_cop_1$sdc_age_1<- CLSA_cop_1$AGE_NMBR_COF1
table(CLSA_cop_1$AGE_NMBR_COF1,useNA="always")

MyMerge <- function(x,y){
  merge(x,y, by= c("id"),all=TRUE)
}
clsa_table <- Reduce(MyMerge, list(CLSA_cop_0, CLSA_cop_1))

table(clsa_table$AGE_NMBR_COF1-clsa_table$AGE_NMBR_COM>5)


```  
### **Variable label**: Age of participant   
**Variable name**: sdc_age_2     
**Variable description**: Age of the participant.      
**Value type**: integer    
**Variable unit**: years  
**Category coding**: N/A  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Age of participant   
**Variable name**: sdc_age_3     
**Variable description**: Age of the participant.     
**Value type**: integer    
**Variable unit**: years  
**Category coding**: N/A  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Age of participant   
**Variable name**: sdc_age_4       
**Variable description**: Age of the participant.      
**Value type**: integer    
**Variable unit**: years  
**Category coding**: N/A  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Age of participant   
**Variable name**: sdc_age_5     
**Variable description**: Age of the participant.      
**Value type**: integer    
**Variable unit**: years  
**Category coding**: N/A  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Age of participant   
**Variable name**: sdc_age_6     
**Variable description**: Age of the participant.      
**Value type**: integer    
**Variable unit**: years  
**Category coding**: N/A  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Gender of participant   
**Variable name**: sdc_gender_0       
**Variable description**: Gender of the participant.      
**Value type**: integer    
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Male   
1 | Female   

**Harmonization status**:  complete  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

sdc_CLSA_cop_0$sdc_gender_0<- recode(CLSA_cop_0$SEX_ASK_COM, "F"=1L, "M"=0L, .default = NA_integer_)
table(CLSA_cop_0$SEX_ASK_COM, useNA= "always")
table(CLSA_cop_1$SDC_BTHSEX_COF1,useNA= "always")

```  
### **Variable label**: Gender of participant   
**Variable name**: sdc_gender_1       
**Variable description**: Gender of the participant.      
**Value type**: integer    
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Male   
1 | Female   

**Harmonization status**:  complete  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}
sdc_CLSA_cop_1$sdc_gender_1<- recode(CLSA_cop_1$SDC_BTHSEX_COF1, '2'=1L, '1'=0L, .default = NA_integer_)

table(clsa_table$SEX_ASK_COM,clsa_table$SDC_BTHSEX_COF1, useNA = "always")
table(clsa_table$SEX_ASK_COM,clsa_table$SDC_CURRSEX_COF1)
table(clsa_table$SDC_BTHSEX_COF1,clsa_table$SDC_CURRSEX_COF1)
table(clsa_table$SDC_BTHSEX_COF1,clsa_table$SEX_ASK_COM)

```  
### **Variable label**: Gender of participant   
**Variable name**: sdc_gender_2       
**Variable description**: Gender of the participant.      
**Value type**: integer    
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Male   
1 | Female   

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Gender of participant   
**Variable name**: sdc_gender_3       
**Variable description**: Gender of the participant.      
**Value type**: integer    
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Male   
1 | Female   

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Gender of participant   
**Variable name**: sdc_gender_4       
**Variable description**: Gender of the participant.      
**Value type**: integer    
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Male   
1 | Female   

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Gender of participant   
**Variable name**: sdc_gender_5       
**Variable description**: Gender of the participant.      
**Value type**: integer    
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Male   
1 | Female   

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Gender of participant   
**Variable name**: sdc_gender_6       
**Variable description**: Gender of the participant.      
**Value type**: integer    
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Male   
1 | Female   

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
# Employment and retirement subdomain

### **Variable label**: Employment status   
**Variable name**: sdc_employ_0       
**Variable description**: Indicator of whether the participant is currently in paid employment or is self-employed.    
**Value type**: integer    
**Variable unit**: N/A    
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently not in paid employment   
1 | Currently in paid employment

**Harmonization status**:  complete  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

sdc_CLSA_cop_0$sdc_employ_0<- ifelse((CLSA_cop_0$LBF_CURR_COM=='1'|CLSA_cop_0$LBF_STTS_COM=='1'|CLSA_cop_0$LBF_STTS_COM=='2'|CLSA_cop_0$LBF_STTS_COM=='3')&(CLSA_cop_0$LBF_EVER_COM!="2"|is.na(CLSA_cop_0$LBF_EVER_COM))&(CLSA_cop_0$RET_RTRD_COM=="3"|CLSA_cop_0$RET_RTRD_COM=="2"),1L,  
                                 ifelse(CLSA_cop_0$LBF_CURR_COM=='2'|CLSA_cop_0$RET_RTRD_COM=="1"|CLSA_cop_0$LBF_EVER_COM=="2", 0L, NA))

table(sdc_CLSA_cop_0$sdc_employ_0,useNA="always")

table(CLSA_cop_0$LBF_CURR_COM, CLSA_cop_0$LBF_STTS_COM, useNA = "always")
table(sdc_CLSA_cop_0$sdc_employ_0,CLSA_cop_0$RET_RTRD_COM, useNA="always")
table(CLSA_cop_0$LBF_CURR_COM,CLSA_cop_0$RET_RTRD_COM, useNA="always")

table(sdc_CLSA_cop_0$sdc_employ_0,CLSA_cop_0$LBF_EVER_COM, useNA="always")
table(CLSA_cop_0$LBF_EVER_COM, useNA="always")

table(CLSA_cop_0$RET_RTRD_COM,CLSA_cop_0$LBF_STTS_COM, useNA="always")

```  
### **Variable label**: Employment status   
**Variable name**: sdc_employ_1    
**Variable description**: Indicator of whether the participant is currently in paid employment or is self-employed.    
**Value type**: integer    
**Variable unit**: N/A    
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently not in paid employment   
1 | Currently in paid employment  

**Harmonization status**:  complete  
**Harmonization comment**:  
**R script**:  
```{r, echo=TRUE}
MyMerge <- function(x,y){
  merge(x,y, by= c("id"),all=TRUE)
}
clsa_table <- Reduce(MyMerge, list(CLSA_cop_0, CLSA_cop_1))

clsa_table$sdc_employ_1<- ifelse(clsa_table$LBF_CURR_COF1=='1'& (clsa_table$RET_RTRD_COF1=="3"|clsa_table$RET_RTRD_COF1=="2"),1L,
                                 ifelse(clsa_table$LBF_CURR_COF1=='2'|
                                          clsa_table$RET_RTRD_COF1=="1"|clsa_table$RET_RTRD_COF1=="4", 0L, NA))

#accounting for people who were retired in the baseline and who answered they never returned to work after retirement in the FU
clsa_table$sdc_employ_1<- ifelse((clsa_table$RET_RTRD_COM==1|clsa_table$RET_RTRD_COM==2) & clsa_table$RET_RTRN_COF1==2, 0L, clsa_table$sdc_employ_1)
table(clsa_table$sdc_employ_1, useNA="always")
sdc_CLSA_cop_1<-merge(sdc_CLSA_cop_1,clsa_table[,c("id","sdc_employ_1")],by="id",all.x=TRUE)
table(sdc_CLSA_cop_1$sdc_employ_1, useNA="always")

table(clsa_table$RET_RTRD_COM==2 & clsa_table$RET_RTRN_COF1==2)

table(clsa_table$sdc_employ_1, clsa_table$RET_RTRD_COF1,  useNA="always")

table(CLSA_cop_1$LBF_CURR_COF1, CLSA_cop_1$LBF_STTS_COF1, useNA = "always")


```  
### **Variable label**: Employment status   
**Variable name**: sdc_employ_2    
**Variable description**: Indicator of whether the participant is currently in paid employment or is self-employed.    
**Value type**: integer    
**Variable unit**: N/A    
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently not in paid employment   
1 | Currently in paid employment   

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Employment status   
**Variable name**: sdc_employ_3    
**Variable description**: Indicator of whether the participant is currently in paid employment or is self-employed.    
**Value type**: integer    
**Variable unit**: N/A    
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently not in paid employment   
1 | Currently in paid employment   

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Employment status   
**Variable name**: sdc_employ_4    
**Variable description**: Indicator of whether the participant is currently in paid employment or is self-employed.    
**Value type**: integer    
**Variable unit**: N/A    
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently not in paid employment   
1 | Currently in paid employment   

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Employment status   
**Variable name**: sdc_employ_5    
**Variable description**: Indicator of whether the participant is currently in paid employment or is self-employed.    
**Value type**: integer    
**Variable unit**: N/A    
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently not in paid employment   
1 | Currently in paid employment   

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Employment status   
**Variable name**: sdc_employ_6    
**Variable description**: Indicator of whether the participant is currently in paid employment or is self-employed.    
**Value type**: integer    
**Variable unit**: N/A    
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently not in paid employment   
1 | Currently in paid employment   

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Retirement status   
**Variable name**: sdc_retire_0     
**Variable description**: Indicator of whether the participant is currently retired.    
**Value type**: integer    
**Variable unit**: N/A    
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently not in retirement   
1 | Currently in retirement   

**Harmonization status**:  complete  
**Harmonization comment**:   Study-specific variable is categorized as: Completely retired | Partly retired | Not retired. Completely retired and partly retired people are coded as Currently in retirement. Participants who never held a paid job are coded as Currently not in retirement.  
**R script**:  
```{r, echo=TRUE}

table(CLSA_cop_0$RET_RTRD_COM,useNA="always")
sdc_CLSA_cop_0$sdc_retire_0<- ifelse((CLSA_cop_0$RET_RTRD_COM==1|CLSA_cop_0$RET_RTRD_COM==2)&(CLSA_cop_0$LBF_EVER_COM==1|is.na(CLSA_cop_0$LBF_EVER_COM)), 1L, ifelse(CLSA_cop_0$RET_RTRD_COM==3|CLSA_cop_0$LBF_EVER_COM==2,0L,  NA))


table(sdc_CLSA_cop_0$sdc_retire_0,CLSA_cop_0$RET_RTRD_COM, useNA= "always")
table(sdc_CLSA_cop_0$sdc_employ_0,CLSA_cop_0$RET_RTRD_COM, useNA= "always")
table(sdc_CLSA_cop_0$sdc_employ_0, useNA= "always")
table(CLSA_cop_0$LBF_EVER_COM, useNA= "always")
table(sdc_CLSA_cop_0$sdc_retire_0, useNA= "always")

```  
### **Variable label**: Retirement status   
**Variable name**: sdc_retire_1     
**Variable description**: Indicator of whether the participant is currently retired.    
**Value type**: integer    
**Variable unit**: N/A    
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently not in retirement   
1 | Currently in retirement   

**Harmonization status**:  complete  
**Harmonization comment**:   Study-specific variable is categorized as: Completely retired | Partly retired | Not retired. Completely retired and partly retired people are coded as Currently in retirement. Participants who never held a paid job are coded as Currently not in retirement.  
**R script**:  
```{r, echo=TRUE}
###old code
# sdc_CLSA_cop_1$sdc_retire_1<- ifelse(CLSA_cop_1$RET_RTRN_COF1=="2" | CLSA_cop_1$RET_RTRD_COF1=="1"|CLSA_cop_1$RET_RTRD_COF1=="2", 1L, ifelse(CLSA_cop_1$RET_RTRN_COF1=="1" | CLSA_cop_1$RET_RTRD_COF1=="3"| CLSA_cop_1$RET_RTRD_COF1=="4",0L,NA))

clsa_table$sdc_retire_0<- ifelse((clsa_table$RET_RTRD_COM==1|clsa_table$RET_RTRD_COM==2)&(clsa_table$LBF_EVER_COM==1|is.na(clsa_table$LBF_EVER_COM)), 1L, ifelse(clsa_table$RET_RTRD_COM==3|clsa_table$LBF_EVER_COM==2,0L,  NA))


clsa_table$sdc_retire_1<- ifelse(clsa_table$RET_RTRD_COF1=="1"|clsa_table$RET_RTRD_COF1=="2", 1L, ifelse( clsa_table$RET_RTRD_COF1=="3",0L,NA))
clsa_table$sdc_retire_1<- ifelse(clsa_table$sdc_retire_0==1&clsa_table$RET_RTRN_COF1==2, 1L, clsa_table$sdc_retire_1)


sdc_CLSA_cop_1<-merge(sdc_CLSA_cop_1,clsa_table[,c("id","sdc_retire_1")],by="id",all.x=TRUE)

table(CLSA_cop_1$RET_RTRD_COF1)
table(clsa_table$RET_RTRN_COF1,clsa_table$sdc_retire_1, useNA = "always")

table(sdc_CLSA_cop_1$sdc_retire_1,useNA="always")
table(sdc_CLSA_cop_0$sdc_retire_0,useNA="always")

#partly retired people are coded both as retired and as employed, if they also answered Yes to the question of Are you currently employed? (no such cases in baseline). People who never held a paid job are coded as 0 for both employment and retirement variable. 
table(sdc_CLSA_cop_1$sdc_retire_1,sdc_CLSA_cop_1$sdc_employ_1, useNA="always")
table(sdc_CLSA_cop_0$sdc_retire_0,sdc_CLSA_cop_0$sdc_employ_0, useNA="always")

```  
### **Variable label**: Retirement status   
**Variable name**: sdc_retire_2     
**Variable description**: Indicator of whether the participant is currently retired.    
**Value type**: integer    
**Variable unit**: N/A    
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently not in retirement   
1 | Currently in retirement   

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Retirement status   
**Variable name**: sdc_retire_3     
**Variable description**: Indicator of whether the participant is currently retired.    
**Value type**: integer    
**Variable unit**: N/A    
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently not in retirement   
1 | Currently in retirement   

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Retirement status   
**Variable name**: sdc_retire_4     
**Variable description**: Indicator of whether the participant is currently retired.    
**Value type**: integer    
**Variable unit**: N/A    
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently not in retirement   
1 | Currently in retirement   

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Retirement status   
**Variable name**: sdc_retire_5     
**Variable description**: Indicator of whether the participant is currently retired.    
**Value type**: integer    
**Variable unit**: N/A    
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently not in retirement   
1 | Currently in retirement   

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Retirement status   
**Variable name**: sdc_retire_6      
**Variable description**: Indicator of whether the participant is currently retired.    
**Value type**: integer    
**Variable unit**: N/A    
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently not in retirement   
1 | Currently in retirement   

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Retirement age   
**Variable name**: sdc_retire_age_0      
**Variable description**: Age of the participant at retirement.  
**Value type**: integer    
**Variable unit**: years  
**Category coding**: N/A  

**Harmonization status**:  complete  
**Harmonization comment**:    The study specific variable asks "How old were you when you first retired/partly retired?" 
**R script**:  
```{r, echo=TRUE}
table(CLSA_cop_0$RET_AGE_NB_COM, useNA="always")
sdc_CLSA_cop_0$sdc_retire_age_0<-CLSA_cop_0$RET_AGE_NB_COM
table(sdc_CLSA_cop_0$sdc_retire_age_0)
```  
### **Variable label**: Retirement age    
**Variable name**: sdc_retire_age_1    
**Variable description**: Age of the participant at retirement.  
**Value type**: integer    
**Variable unit**: years  
**Category coding**: N/A  

**Harmonization status**:  complete  
**Harmonization comment**:    The study specific variable asks "How old were you when you first retired/partly retired?" For participants that do not have a valid answer for the question in the follow-up questionnaire, baseline answer is used to harmonize. 
**R script**:  
```{r, echo=TRUE}
MyMerge <- function(x,y){
  merge(x,y, by= c("id"),all=TRUE)
}
sdc_table <- Reduce(MyMerge, list(CLSA_cop_0, CLSA_cop_1))
#Harmonization scripts to create "ever had "

sdc_table$sdc_retire_age_0 <- sdc_table$RET_AGE_NB_COM

table(CLSA_cop_1$RET_AGE_NB_COF1, useNA="always")

sdc_table$sdc_retire_age_1<- ifelse(!is.na(sdc_table$RET_AGE_NB_COF1),sdc_table$RET_AGE_NB_COF1,sdc_table$sdc_retire_age_0)
table(sdc_table$sdc_retire_age_1, useNA = "always")
sdc_CLSA_cop_1<-merge(sdc_CLSA_cop_1,sdc_table[,c("id","sdc_retire_age_1")],by="id",all.x=TRUE)
table(sdc_CLSA_cop_1$sdc_retire_age_1, useNA="always")

table(sdc_CLSA_cop_1$sdc_retire_age_1.y[sdc_CLSA_cop_1$sdc_retire_age_1.y- sdc_CLSA_cop_1$sdc_age_1>0]- sdc_CLSA_cop_1$sdc_age_1[sdc_CLSA_cop_1$sdc_retire_age_1.y- sdc_CLSA_cop_1$sdc_age_1>0])
table(sdc_CLSA_cop_1$sdc_retire_age_1- sdc_CLSA_cop_1$sdc_age_1)
table(CLSA_cop_1$id [CLSA_cop_1$AGE_NMBR_COF1- CLSA_cop_1$RET_AGE_NB_COF1<0])

```  
### **Variable label**: Retirement age    
**Variable name**: sdc_retire_age_2    
**Variable description**: Age of the participant at retirement.    
**Value type**: integer    
**Variable unit**: years  
**Category coding**: N/A  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  

# Education and income subdomain

### **Variable label**: Highest level of education completed (ISCED 2011)    
**Variable name**: sdc_highest_edu_0       
**Variable description**: Highest level of education completed by the participant in accordance with the International Standard Classification of Education (ISCED 2011).       
**Value type**: integer  
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
1 | Lower secondary or less (ISCED 0-2)  
2 | Upper secondary (ISCED 3)
3 | Post-secondary non-tertiary education or short-cycle tertiary education (ISCED 4,5)
4 | Bachelor,master,doctoral or equivalent (ISCED 6,7,8)

**Harmonization status**:  complete  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}
table(CLSA_cop_0$ED_UDR11_COM,useNA="always")
sdc_CLSA_cop_0$sdc_highest_edu_0<-ifelse(CLSA_cop_0$ED_UDR11_COM==1|CLSA_cop_0$ED_UDR11_COM==2, 1L,
                                 ifelse(CLSA_cop_0$ED_UDR11_COM==3|CLSA_cop_0$ED_UDR11_COM==4|CLSA_cop_0$ED_UDR11_COM==5, 2L,
                                 ifelse(CLSA_cop_0$ED_UDR11_COM==6|CLSA_cop_0$ED_UDR11_COM==7| CLSA_cop_0$ED_UDR11_COM==8, 3L,
                                 ifelse(CLSA_cop_0$ED_UDR11_COM==9|CLSA_cop_0$ED_UDR11_COM==10, 4L,NA))))
table(sdc_CLSA_cop_0$sdc_highest_edu_0,useNA="always")

```  
### **Variable label**: Highest level of education completed (ISCED 2011)    
**Variable name**: sdc_highest_edu_1     
**Variable description**: Highest level of education completed by the participant in accordance with the International Standard Classification of Education (ISCED 2011).     
**Value type**: integer  
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
1 | Lower secondary or less (ISCED 0-2)  
2 | Upper secondary (ISCED 3)
3 | Post-secondary non-tertiary education or short-cycle tertiary education (ISCED 4,5)
4 | Bachelor,master,doctoral,or equivalent (ISCED 6,7,8)

**Harmonization status**:  impossible 
**Harmonization comment**:  
**R script**:  
```{r, echo=TRUE}
#table(CLSA_cop_1$ED_OTED_COF1, useNA = "always")

```  
### **Variable label**: Highest level of education completed (ISCED 2011)    
**Variable name**: sdc_highest_edu_2     
**Variable description**: Highest level of education completed by the participant in accordance with the International Standard Classification of Education (ISCED 2011).     
**Value type**: integer  
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
1 | Lower secondary or less (ISCED 0-2)  
2 | Upper secondary (ISCED 3)
3 | Post-secondary non-tertiary education or short-cycle tertiary education (ISCED 4,5)
4 | Bachelor,master,doctoral,or equivalent (ISCED 6,7,8)

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Highest level of education completed (ISCED 2011)    
**Variable name**: sdc_highest_edu_3     
**Variable description**: Highest level of education completed by the participant in accordance with the International Standard Classification of Education (ISCED 2011).     
**Value type**: integer  
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
1 | Lower secondary or less (ISCED 0-2)  
2 | Upper secondary (ISCED 3)
3 | Post-secondary non-tertiary education or short-cycle tertiary education (ISCED 4,5)
4 | Bachelor,master,doctoral,or equivalent (ISCED 6,7,8)

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Highest level of education completed (ISCED 2011)    
**Variable name**: sdc_highest_edu_4     
**Variable description**: Highest level of education completed by the participant in accordance with the International Standard Classification of Education (ISCED 2011).     
**Value type**: integer  
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
1 | Lower secondary or less (ISCED 0-2)  
2 | Upper secondary (ISCED 3)
3 | Post-secondary non-tertiary education or short-cycle tertiary education (ISCED 4,5)
4 | Bachelor,master,doctoral,or equivalent (ISCED 6,7,8)

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Post-secondary education    
**Variable name**: sdc_postsec_edu_0       
**Variable description**: Indicator of whether the participant completed high school or post-secondary education.    
**Value type**: integer  
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Upper secondary or less (ISCED 0-3)
1 | Post-secondary non-tertiary education or more (ISCED 4-8)  

**Harmonization status**:  complete  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}
# 1 | Lower secondary or less (ISCED 0-2)  
# 2 | Upper secondary (ISCED 3)
# 3 | Post-secondary non-tertiary education or short-cycle tertiary education (ISCED 4,5)
# 4 | Bachelor,master,doctoral,or equivalent (ISCED 6,7,8)
sdc_CLSA_cop_0$sdc_postsec_edu_0<-ifelse(sdc_CLSA_cop_0$sdc_highest_edu_0==3|sdc_CLSA_cop_0$sdc_highest_edu_0==4|CLSA_cop_0$ED_UDR11_COM==11,1L, ifelse(is.na(sdc_CLSA_cop_0$sdc_highest_edu_0), NA,0L))
table(sdc_CLSA_cop_0$sdc_highest_edu_0)
table(sdc_CLSA_cop_0$sdc_postsec_edu_0)

```  
### **Variable label**: Post-secondary education    
**Variable name**: sdc_postsec_edu_1     
**Variable description**: Indicator of whether the participant completed high school or post-secondary education.    
**Value type**: integer  
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Upper secondary or less (ISCED 0-3)
1 | Post-secondary non-tertiary education or more (ISCED 4-8)    

**Harmonization status**:  impossible
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Post-secondary education    
**Variable name**: sdc_postsec_edu_2     
**Variable description**: Indicator of whether the participant completed high school or post-secondary education.    
**Value type**: integer  
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Upper secondary or less (ISCED 0-3)
1 | Post-secondary non-tertiary education or more (ISCED 4-8)    

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Post-secondary education    
**Variable name**: sdc_postsec_edu_3     
**Variable description**: Indicator of whether the participant completed high school or post-secondary education.    
**Value type**: integer  
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Upper secondary or less (ISCED 0-3)
1 | Post-secondary non-tertiary education or more (ISCED 4-8)    

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Post-secondary education    
**Variable name**: sdc_postsec_edu_4     
**Variable description**: Indicator of whether the participant completed high school or post-secondary education.    
**Value type**: integer  
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Upper secondary or less (ISCED 0-3)
1 | Post-secondary non-tertiary education or more (ISCED 4-8)    

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Net annual household income    
**Variable name**: sdc_income_0       
**Variable description**: Indicator of whether the net annual household income is above or below the country-specific net mean household income.    
**Value type**: integer  
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Less than or equal to country-specific net mean household income
1 | Greater than country-specific net mean household income    

**Harmonization status**:  impossible  
**Harmonization comment**: Study-specific variable total household income before taxes and deductions is categorical.  
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Net annual household income    
**Variable name**: sdc_income_1       
**Variable description**: Indicator of whether the net annual household income is above or below the country-specific net mean household income.    
**Value type**: integer  
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Less than or equal to country-specific net mean household income
1 | Greater than country-specific net mean household income    

**Harmonization status**:  impossible     
**Harmonization comment**: Study-specific variable total household income before taxes and deductions is categorical.  
**R script**:  
```{r, echo=TRUE}

```    
### **Variable label**: Net annual household income    
**Variable name**: sdc_income_2       
**Variable description**: Indicator of whether the net annual household income is above or below the country-specific net mean household income.    
**Value type**: integer  
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Less than or equal to country-specific net mean household income
1 | Greater than country-specific net mean household income    

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```   
### **Variable label**: Net annual household income    
**Variable name**: sdc_income_3       
**Variable description**: Indicator of whether the net annual household income is above or below the country-specific net mean household income.    
**Value type**: integer  
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Less than or equal to country-specific net mean household income
1 | Greater than country-specific net mean household income    

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```   
### **Variable label**: Net annual household income    
**Variable name**: sdc_income_4       
**Variable description**: Indicator of whether the net annual household income is above or below the country-specific net mean household income.    
**Value type**: integer  
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Less than or equal to country-specific net mean household income
1 | Greater than country-specific net mean household income    

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```   
### **Variable label**: Net annual household income    
**Variable name**: sdc_income_5       
**Variable description**: Indicator of whether the net annual household income is above or below the country-specific net mean household income.    
**Value type**: integer  
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Less than or equal to country-specific net mean household income
1 | Greater than country-specific net mean household income    

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Net annual household income    
**Variable name**: sdc_income_6       
**Variable description**: Indicator of whether the net annual household income is above or below the country-specific net mean household income.    
**Value type**: integer  
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Less than or equal to country-specific net mean household income
1 | Greater than country-specific net mean household income    

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
# Marital status subdomain

### **Variable label**: Civil status    
**Variable name**: sdc_civstat_0      
**Variable description**: Indicator of the participant's current civil status.    
**Value type**: integer    
**Variable unit**: N/A    
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently single or unmarried   
1 | Currently married or living with partner
2 | Currently divorced or separated
3 | Currently widowed  

**Harmonization status**:  complete  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}
sdc_CLSA_cop_0$sdc_civstat_0<- recode(CLSA_cop_0$SDC_MRTL_COM, '1'=0L,'2'=1L,'3'=3L,'4'=2L,'5'=2L, .default=NA_integer_)
table(sdc_CLSA_cop_0$sdc_civstat_0, useNA = "always")
clsa_table$sdc_civstat_0<- recode(as.integer(clsa_table$SDC_MRTL_COM), '1'=0L,'2'=1L,'3'=3L,'4'=2L,'5'=2L, .default=NA_integer_)

```  
### **Variable label**: Civil status    
**Variable name**: sdc_civstat_1      
**Variable description**: Indicator of the participant's current civil status.    
**Value type**: integer    
**Variable unit**: N/A    
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently single or unmarried   
1 | Currently married or living with partner
2 | Currently divorced or separated
3 | Currently widowed  

**Harmonization status**:  complete  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}
#sdc_CLSA_cop_1$sdc_civstat_1<- recode(CLSA_cop_1$SDC_MRTL_COF1, '1'=0L,'2'=1L,'3'=3L,'4'=2L,'5'=2L, .default=NA_integer_)
clsa_table$sdc_civstat_1<- recode(as.integer(clsa_table$SDC_MRTL_COF1), '1'=0L,'2'=1L,'3'=3L,'4'=2L,'5'=2L, .default=NA_integer_)
clsa_table$sdc_civstat_1<-ifelse(clsa_table$SDC_MRTL_CONFIRM_COF1==1 & is.na(clsa_table$sdc_civstat_1), clsa_table$sdc_civstat_0 , clsa_table$sdc_civstat_1)
table(CLSA_cop_1$SDC_MRTL_COF1,CLSA_cop_1$SDC_MRTL_CONFIRM_COF1, useNA = "always")
sdc_CLSA_cop_1<-merge(sdc_CLSA_cop_1,clsa_table[,c("id","sdc_civstat_1")],by="id",all.x=TRUE)
table(sdc_CLSA_cop_1$sdc_civstat_1 , useNA = "always")

```   
### **Variable label**: Civil status    
**Variable name**: sdc_civstat_2      
**Variable description**: Indicator of the participant's current civil status.    
**Value type**: integer    
**Variable unit**: N/A    
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently single or unmarried   
1 | Currently married or living with partner
2 | Currently divorced or separated
3 | Currently widowed  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```   
### **Variable label**: Civil status    
**Variable name**: sdc_civstat_3        
**Variable description**: Indicator of the participant's current civil status.    
**Value type**: integer    
**Variable unit**: N/A    
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently single or unmarried   
1 | Currently married or living with partner
2 | Currently divorced or separated
3 | Currently widowed  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Civil status    
**Variable name**: sdc_civstat_4      
**Variable description**: Indicator of the participant's current civil status.    
**Value type**: integer    
**Variable unit**: N/A    
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently single or unmarried   
1 | Currently married or living with partner
2 | Currently divorced or separated
3 | Currently widowed  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```   
### **Variable label**: Civil status    
**Variable name**: sdc_civstat_5      
**Variable description**: Indicator of the participant's current civil status.    
**Value type**: integer    
**Variable unit**: N/A    
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently single or unmarried   
1 | Currently married or living with partner
2 | Currently divorced or separated
3 | Currently widowed  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```   
### **Variable label**: Civil status    
**Variable name**: sdc_civstat_6      
**Variable description**: Indicator of the participant's current civil status.    
**Value type**: integer    
**Variable unit**: N/A    
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently single or unmarried   
1 | Currently married or living with partner
2 | Currently divorced or separated
3 | Currently widowed  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```    
### **Variable label**: Married or living with partner  
**Variable name**: sdc_livstat_0      
**Variable description**: Indicator of whether the participant is currently married or is currently living with a spouse or a partner in a common household.    
**Value type**: integer    
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently not married or living with partner   
1 | Currently married or living with partner  

**Harmonization status**:  complete  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}
sdc_CLSA_cop_0$sdc_livstat_0<- recode(CLSA_cop_0$SDC_MRTL_COM,'1'=0L, '2'=1L, '3'=0L,'4'=0L,'5'=0L,.default=NA_integer_)
table(sdc_CLSA_cop_0$sdc_livstat_0, useNA = "always")

```  
### **Variable label**: Married or living with partner  
**Variable name**: sdc_livstat_1      
**Variable description**: Indicator of whether the participant is currently married or is currently living with a spouse or a partner in a common household.    
**Value type**: integer    
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently not married or living with partner   
1 | Currently married or living with partner  

**Harmonization status**:  complete  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}
sdc_CLSA_cop_1$sdc_livstat_1<- recode(sdc_CLSA_cop_1$sdc_civstat_1,'1'=1L, '2'=0L, '3'=0L,'0'=0L,.default=NA_integer_)
table(sdc_CLSA_cop_1$sdc_livstat_1, useNA="always")
```   
### **Variable label**: Married or living with partner  
**Variable name**: sdc_livstat_2      
**Variable description**: Indicator of whether the participant is currently married or is currently living with a spouse or a partner in a common household.    
**Value type**: integer    
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently not married or living with partner   
1 | Currently married or living with partner  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Married or living with partner  
**Variable name**: sdc_livstat_3      
**Variable description**: Indicator of whether the participant is currently married or is currently living with a spouse or a partner in a common household.    
**Value type**: integer    
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently not married or living with partner   
1 | Currently married or living with partner  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Married or living with partner  
**Variable name**: sdc_livstat_4      
**Variable description**: Indicator of whether the participant is currently married or is currently living with a spouse or a partner in a common household.    
**Value type**: integer    
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently not married or living with partner   
1 | Currently married or living with partner  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Married or living with partner  
**Variable name**: sdc_livstat_5      
**Variable description**: Indicator of whether the participant is currently married or is currently living with a spouse or a partner in a common household.    
**Value type**: integer    
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently not married or living with partner   
1 | Currently married or living with partner  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```    
### **Variable label**: Married or living with partner  
**Variable name**: sdc_livstat_6      
**Variable description**: Indicator of whether the participant is currently married or is currently living with a spouse or a partner in a common household.    
**Value type**: integer    
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Currently not married or living with partner   
1 | Currently married or living with partner  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```   


# Number of people in household subdomain

### **Variable label**: Number of people in household  
**Variable name**: sdc_num_pplhh_0      
**Variable description**: Number of people currently living in the same household, including the participant.    
**Value type**: integer      
**Variable unit**: individuals  
**Category coding**: N/A  

**Harmonization status**:  complete  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}
sdc_CLSA_cop_0$sdc_num_pplhh_0 <- as.integer(CLSA_cop_0$SN_LIVH_NB_COM+1)
table(sdc_CLSA_cop_0$sdc_num_pplhh_0)
```  
### **Variable label**: Number of people in household  
**Variable name**: sdc_num_pplhh_1    
**Variable description**: Number of people currently living in the same household, including the participant.    
**Value type**: integer      
**Variable unit**: individuals  
**Category coding**: N/A  

**Harmonization status**:  complete
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}
sdc_CLSA_cop_1$sdc_num_pplhh_1 <- as.integer(CLSA_cop_1$SN_LIVH_NB_COF1+1)
table(sdc_CLSA_cop_1$sdc_num_pplhh_1)

```  
### **Variable label**: Number of people in household  
**Variable name**: sdc_num_pplhh_2    
**Variable description**: Number of people currently living in the same household, including the participant.    
**Value type**: integer      
**Variable unit**: individuals  
**Category coding**: N/A  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

``` 
### **Variable label**: Number of people in household  
**Variable name**: sdc_num_pplhh_3    
**Variable description**: Number of people currently living in the same household, including the participant.    
**Value type**: integer      
**Variable unit**: individuals  
**Category coding**: N/A  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

``` 
### **Variable label**: Number of people in household  
**Variable name**: sdc_num_pplhh_4    
**Variable description**: Number of people currently living in the same household, including the participant.    
**Value type**: integer      
**Variable unit**: individuals  
**Category coding**: N/A  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

``` 
### **Variable label**: Number of children in household  
**Variable name**: sdc_num_childhh_0    
**Variable description**: Number of children (biological or adopted) currently living in the same household as the participant.    
**Value type**: integer      
**Variable unit**: children  
**Category coding**: N/A  

**Harmonization status**:  complete  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}
sdc_CLSA_cop_0$sdc_num_childhh_0<- CLSA_cop_0$SN_LIVHKD_COM
table(CLSA_cop_0$SN_LIVHKD_COM,useNA= "always")
table(sdc_CLSA_cop_0$sdc_num_childhh_0,useNA= "always")

```  
### **Variable label**: Number of children in household  
**Variable name**: sdc_num_childhh_1     
**Variable description**: Number of children (biological or adopted) currently living in the same household as the participant.    
**Value type**: integer      
**Variable unit**: children  
**Category coding**: N/A  

**Harmonization status**:  complete  
**Harmonization comment**:  The-study specific variables indicating the relationship of the individuals in the household to the participant, up till 9 individuals, are used to harmonize the DataSchema variable. Number of household members who were coded as children of the participant are summed.   
**R script**:  
```{r, echo=TRUE}
CLSA_cop_1$child1<-ifelse(CLSA_cop_1$SN_LIVH_M2_R_COF1=="05", 1L, NA)
CLSA_cop_1$child2<-ifelse(CLSA_cop_1$SN_LIVH_M3_R_COF1=="05", 1L, NA)
CLSA_cop_1$child3<-ifelse(CLSA_cop_1$SN_LIVH_M4_R_COF1=="05", 1L, NA)
CLSA_cop_1$child4<-ifelse(CLSA_cop_1$SN_LIVH_M5_R_COF1=="05", 1L, NA)
CLSA_cop_1$child5<-ifelse(CLSA_cop_1$SN_LIVH_M6_R_COF1=="05", 1L, NA)
CLSA_cop_1$child6<-ifelse(CLSA_cop_1$SN_LIVH_M7_R_COF1=="05", 1L, NA)
CLSA_cop_1$child7<-ifelse(CLSA_cop_1$SN_LIVH_M8_R_COF1=="05", 1L, NA)
CLSA_cop_1$child8<-ifelse(CLSA_cop_1$SN_LIVH_M9_R_COF1=="05", 1L, NA)
CLSA_cop_1$child9<-ifelse(CLSA_cop_1$SN_LIVH_M10_R_COF1=="05", 1L, NA)
class(CLSA_cop_1$child1)

sdc_CLSA_cop_1$sdc_num_childhh_1<- rowSums(CLSA_cop_1[,25:33], na.rm=TRUE)

sdc_CLSA_cop_1$sdc_num_childhh_1[is.na(CLSA_cop_1$SN_LIVH_M2_R_COF1) & is.na(CLSA_cop_1$SN_LIVH_M3_R_COF1) &is.na(CLSA_cop_1$SN_LIVH_M4_R_COF1)& is.na(CLSA_cop_1$SN_LIVH_M5_R_COF1) &is.na(CLSA_cop_1$SN_LIVH_M6_R_COF1) & is.na(CLSA_cop_1$SN_LIVH_M7_R_COF1) &is.na(CLSA_cop_1$SN_LIVH_M8_R_COF1) &is.na(CLSA_cop_1$SN_LIVH_M9_R_COF1) & is.na(CLSA_cop_1$SN_LIVH_M10_R_COF1)]<-NA

table(sdc_CLSA_cop_1$sdc_num_pplhh_1,sdc_CLSA_cop_1$sdc_num_childhh_1 )
table(sdc_CLSA_cop_1$sdc_num_childhh_1,useNA = "always" )
table(CLSA_cop_1$SN_CHILD_NB_COF1, sdc_CLSA_cop_1$sdc_num_childhh_1,useNA = "always" )
table(CLSA_cop_1$SN_CHILD_NB_COF1<=sdc_CLSA_cop_1$sdc_num_childhh_1)
```  
### **Variable label**: Number of children in household  
**Variable name**: sdc_num_childhh_2     
**Variable description**: Number of children (biological or adopted) currently living in the same household as the participant.    
**Value type**: integer      
**Variable unit**: children  
**Category coding**: N/A  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Number of children in household  
**Variable name**: sdc_num_childhh_3     
**Variable description**: Number of children (biological or adopted) currently living in the same household as the participant.    
**Value type**: integer      
**Variable unit**: children  
**Category coding**: N/A  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Number of children in household  
**Variable name**: sdc_num_childhh_4  
**Variable description**: Number of children (biological or adopted) currently living in the same household as the participant.    
**Value type**: integer      
**Variable unit**: children  
**Category coding**: N/A  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Number of children 
**Variable name**: sdc_num_child_0  
**Variable description**: Number of children (biological or adopted) of the participant.    
**Value type**: integer      
**Variable unit**: children  
**Category coding**: N/A  

**Harmonization status**:  impossible?      
**Harmonization comment**:   Study-specific variable is number of living children.  
**R script**:  
```{r, echo=TRUE}

```    
### **Variable label**: Number of children  
**Variable name**: sdc_num_child_1  
**Variable description**: Number of children (biological or adopted) of the participant.    
**Value type**: integer      
**Variable unit**: children  
**Category coding**: N/A  

**Harmonization status**:  impossible 
**Harmonization comment**: Study-specific variable is number of living children.  
**R script**:  
```{r, echo=TRUE}

```   
### **Variable label**: Number of children  
**Variable name**: sdc_num_child_2  
**Variable description**: Number of children (biological or adopted) of the participant.    
**Value type**: integer      
**Variable unit**: children  
**Category coding**: N/A  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```   
### **Variable label**: Number of children  
**Variable name**: sdc_num_child_3  
**Variable description**: Number of children (biological or adopted) of the participant.    
**Value type**: integer      
**Variable unit**: children  
**Category coding**: N/A  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```   
### **Variable label**: Number of children   
**Variable name**: sdc_num_child_4  
**Variable description**: Number of children (biological or adopted) of the participant.    
**Value type**: integer      
**Variable unit**: children  
**Category coding**: N/A  

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```    
### **Variable label**: Children (biological or adopted) 
**Variable name**: sdc_child_0  
**Variable description**: Indicator of whether the participant has any children (biological or adopted) or not.    
**Value type**: integer    
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Does not have children  
1 | Does have children

**Harmonization status**:  impossible?    
**Harmonization comment**:  Study-specific variable is number of living children.  
**R script**:  
```{r, echo=TRUE}

```    
### **Variable label**: Children (biological or adopted)  
**Variable name**: sdc_child_1   
**Variable description**: Indicator of whether the participant has any children (biological or adopted) or not.    
**Value type**: integer    
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Does not have children  
1 | Does have children

**Harmonization status**:  impossible?  
**Harmonization comment**:  Study-specific variable is number of living children.   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Children (biological or adopted)  
**Variable name**: sdc_child_2   
**Variable description**: Indicator of whether the participant has any children (biological or adopted) or not.    
**Value type**: integer    
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Does not have children  
1 | Does have children

**Harmonization status**:  impossilbe  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Children (biological or adopted)  
**Variable name**: sdc_child_3   
**Variable description**: Indicator of whether the participant has any children (biological or adopted) or not.    
**Value type**: integer    
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Does not have children  
1 | Does have children

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  
### **Variable label**: Children (biological or adopted)  
**Variable name**: sdc_child_4   
**Variable description**: Indicator of whether the participant has any children (biological or adopted) or not.    
**Value type**: integer    
**Variable unit**: N/A  
**Category coding**:  

**Code** | **Category Label**  
------------- | -------------  
0 | Does not have children  
1 | Does have children

**Harmonization status**:  impossible  
**Harmonization comment**:   
**R script**:  
```{r, echo=TRUE}

```  